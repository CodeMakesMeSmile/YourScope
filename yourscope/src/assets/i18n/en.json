<app-navbar></app-navbar>
<div id="bg">
  <div>
    <h2 class="pad-12 white page-heading">
      Welcome back, {{name}}!
    </h2>
  </div>
  <div class="card margin-30 shadow mb-5 rounded postings">
    <div class="card-body">
      <div class="justify-line">
        <div class="job-pages">
          <h4 class="card-title">My Job Postings</h4>
          <img class="cant-click" *ngIf="this.page[0] == 1" src="assets/iconPrevious.svg">
          <img *ngIf="this.page[0] != 1" src="assets/iconPrevious.svg" (click)="prevPage()">
          <p>{{this.page[0]}} of {{this.page[1]}}</p>
          <img class="cant-click" *ngIf="this.page[0] == this.page[1]" src="assets/iconNext.svg">
          <img *ngIf="this.page[0] != this.page[1]" src="assets/iconNext.svg" (click)="nextPage()">
        </div>
        <a class="create-button" (click)="loadCreatePosting()">+</a>
      </div>
      <div class="scrollspy-container">
        <div data-spy="scroll" data-offset="0">
          <div class="card item-card shadow bg-white rounded" *ngFor="let job of jobs">
            <div class="job-postings card-body">
              <a class="card-text" >{{job.jobTitle}}</a>
              <div class="posting-button-section">
                <div class="button-view" (click)="loadJobPostingApplicants(job)">
                  View Applicants
                </div>
                <img class="information-button" src="assets/jobPostingDetails.svg" (click)="loadJobPosting(job)">
                <img class="information-button" src="assets/jobPostingDelete.svg" (click)="loadDeletePosting(job)">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="options >= 1" class="popup" (click)="closePopup2($event)">
    <div class="info-card">
      <div class="close-button-bg">
        <div class="close-button" (click)="closePopup1()">X</div>
      </div>
      <app-job-posting class="popup-options" *ngIf="options == 1" [posting]="selection"></app-job-posting>
      <app-job-posting-create class="popup-options" *ngIf="options == 2"></app-job-posting-create>
      <app-job-applicant class="popup-options" *ngIf="options == 5" [posting]="selection"></app-job-applicant>
      <div class="confirmDelete" *ngIf="options == 3">
        <h1 style="margin:auto; margin-top:70px; margin-bottom:70px; text-align:center;">Are you sure you want to delete this posting?</h1>
        <div style="display:flex; justify-content:space-evenly;">
          <div class="yes-button" (click)="deletePosting()">Delete</div>
          <div class="no-button" (click)="closePopup1()">Cancel</div>
        </div>
      </div>
      <h1 *ngIf="options == 4">Posting Deleted...</h1>
    </div>
  </div>
</div>
