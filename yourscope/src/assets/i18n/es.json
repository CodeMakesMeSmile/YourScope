<div class="divViewCourse" [@inOutAnimation] *ngIf="visible">
  <div *ngIf="!selectedCourse">
    <h2>Select a course</h2>
    <div class="search">
      <input placeholder="Search..." id="student-search-course" [(ngModel)]="search">
      <mat-select class="select-discipline" placeholder="Discipline" [(ngModel)]="selectedDiscipline">
        <mat-option *ngFor="let disc of disciplines" [value]="disc">{{disc}}</mat-option>
      </mat-select>
      <mat-select class="select-grade" placeholder="Grade" [(ngModel)]="selectedGrade">
        <mat-option *ngFor="let grade of grades" [value]="grade.g">{{grade.g}}</mat-option>
      </mat-select>
      <button (click)="searchQuery()">Search</button>
    </div>
    <div *ngIf="recommendedCourses">
      <h4>Based on your current courses, we recommended you take: </h4>
      <h5>{{recommendedCourses}}</h5>
    </div>
    <img src="../../../assets/closeBox.png" class="closeIcon" (click)="onClickCloseButton()">
    <div class="container-wrapper">
      <div class="container container-item">
        <div *ngFor="let course of offeredCourses; let i = index;" class="row">
          <div class="col course-item" (click)="selectCourse(i)">
            <h4 style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">{{course.name}}</h4>
            <p class="subHeading">{{course.courseCode}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="course-pages">
      <img class="cant-click" *ngIf="this.page == 1" src="assets/iconPrevious.svg">
      <img *ngIf="this.page != 1" src="assets/iconPrevious.svg" (click)="prevPage()">
      <p>{{this.page}} of {{this.maxPage}}</p>
      <img class="cant-click" *ngIf="this.page == this.maxPage" src="assets/iconNext.svg">
      <img *ngIf="this.page != this.maxPage" src="assets/iconNext.svg" (click)="nextPage()">
    </div>
  </div>
  <div *ngIf="selectedCourse">
    <h4>{{this.course.name}}</h4>
    <img src="../../../assets/closeBox.png" class="closeIcon" (click)="onClickCloseButton()">
    <p class="subHeading">
      <span class="bold">Credits:</span> {{this.course.credits}}
    </p>
    <p class="subHeading">
      <span class="bold">Discipline:</span> {{this.course.discipline}}
    </p>
    <p class="subHeading">
      <span class="bold">Pre-requisites:</span> {{this.parsePrereqs(this.course.prerequisites)}}
    </p>
    <hr />
    <h5>Description</h5>
    <p class="courseDescription">{{this.course.description}}</p>
    <hr />
    <button class="btn btn-success btnAddCourse" (click)="addCourse()">Add</button>
    <button class="btn btn-secondary btnAddCourse" (click)="returnToSearch()">Back</button>
  </div>
</div>

<confirmation-dialog *ngIf="confirmNoPrereqs" (onClickEvent)="confirmAddition($event)"/>
<app-missing-prereq *ngIf="confirmWithPrereqs">